# Aufgaben für Einsteiger:innen {#sec-AufgabeAnfang}


Schön, dass Sie Ihre R-Fähigkeiten überprüfen möchten. Bleiben Sie am Ball, Sie schaffen das!


## Objekte in R {#sec-AufgabenAnfangA}

In diesem Abschnitt üben Sie den Umgang mit `R`-Objekten wie Vektoren, Faktoren und Datenframes.


### Aufgabe [-@sec-AAA01] Vektoren {#sec-AAA01}

::: {.callout-note appearance="simple"}

a) Erzeugen Sie mit möglichst wenig Aufwand einen Datenvektor aus den Zahlen 1 bis 100.

b) Erzeugen Sie einen Datenvektor, der aus den Wörtern "Apfel", "Birne" und "Postauto" besteht.

c) Erzeugen Sie einen weiteren Datenvektor, in welchem die Wörter "Apfel", "Birne" und "Postauto" 30 mal wiederholt werden.

::: {.callout-caution appearance="simple"}
Schauen Sie sich die Hilfeseite zur Funktion `rep()` an, um Aufgabe c) besser lösen zu können
```{r}
#| label: AufgabeAnfangVectorenA
#| eval: false
?rep()
# oder
help(rep)
```

:::

:::

::: {.callout-tip appearance="simple"}
Lösung siehe @sec-LAA01
:::


\newpage

### Aufgabe [-@sec-AAA02] Zufallsvektoren {#sec-AAA02}

::: {.callout-note appearance="simple"}
a) Erzeugen Sie einen Datenvektor aus 200 zufälligen Zahlen zwischen 1 und 500, ohne dass eine Zahl doppelt vorkommt (sog. "ohne zurücklegen").

b) Erzeugen Sie einen weiteren Datenvektor mit ebenfalls 200 zufälligen Zahlen zwischen 1 und 500, wobei Zahlen nun doppelt vorkommen dürfen (sog. "mit zurücklegen").

::: {.callout-caution appearance="simple"}
Schauen Sie sich die Hilfeseite zur Funktion `sample()` an, um die Aufgaben leichter lösen zu können.
```{r}
#| eval: false
#| label: aufgabenaa02setup
?sample
# oder
help(sample)
```

:::
:::

::: {.callout-tip appearance="simple"}
Lösung siehe @sec-LAA02
:::






### Aufgabe [-@sec-AAA03] Krankenhausaufenthalte {#sec-AAA03}

::: {.callout-note appearance="simple"}
Hundert zufällig ausgewählte Personen wurden befragt, wie oft sie im
letzten Jahr im Krankenhaus stationär behandelt wurden. Die Antworten
wurden wie folgt notiert:


              1,0,0,3,1,5,1,2,2,0,1,0,5,2,1,0,1,0,0,4,0,1,1,3,0,
              1,1,1,3,1,0,1,4,2,0,3,1,1,7,2,0,2,1,3,0,0,0,0,6,1,
              1,2,1,0,1,0,3,0,1,3,0,5,2,1,0,2,4,0,1,1,3,0,1,2,1,
              1,1,1,2,2,0,3,0,1,0,1,0,0,0,5,0,4,1,2,2,7,1,3,1,5


a) Überführen Sie die Daten in ein R-Objekt mit dem Namen `KHAufenthalte`.
b) Entfernen Sie den ersten und den dritten Eintrag aus Ihrem R-Objekt.
c) Fügen Sie die Werte $7$ und $2$ dem Objekt hinzu.
d) Benennen Sie das Objekt in `hospital.stays` um.
e) Unterteilen Sie die Kranenhausaufenthalte mit der `cut()`-Funktion in die Klassen 
   - `0`, 
   - `1-2` und 
   - `mehr als 2` Aufenthalte.
:::

::: {.callout-tip appearance="simple"}
Lösung siehe @sec-LAA03
:::


\newpage

### Aufgabe [-@sec-AAA04] Größe und Gewicht {#sec-AAA04}

::: {.callout-note appearance="simple"}
Von 10 Personen wurden folgende Körpergrößen in Meter gemessen:

              1,68   1,87   1,95   1,74   1,80
              1,75   1,59   1,77   1,82   1,74

... sowie folgende Gewichte in Gramm:

              78500  110100  97500   69200   82500
              71500   81500  87200   75500   65500

a) Überführen Sie die Daten in R-Objekte mit den Namen `Groesse` und `Gewicht`.
b) Rechnen Sie das Gewicht um in Kilogramm, und speichern Sie Ihr Ergebnis in der Variable `Kilogramm`.
c) Berechnen Sie den BMI (kg/m^2^) der Probanden und speichern Ihr Ergebnis in das Objekt `BMI` (Dabei könnten Ihnen die zuvor erstellten Variablen von Nutzen sein!).
d) Fügen Sie die Objekte `Groesse`, `Gewicht` (aber in Kilogramm) und `BMI` zu einem Datenframe zusammen.
e) Lassen Sie die Daten von Proband 4, 7 und 9 ausgeben.
f) Lassen Sie die Daten der Probanden ausgeben, deren Gewicht größer ist als 80kg.

:::

::: {.callout-tip appearance="simple"}
Lösung siehe @sec-LAA04
:::




### Aufgabe [-@sec-AAA05] ordinale Faktoren {#sec-AAA05}

::: {.callout-note appearance="simple"}
a) Erstellen Sie die ordinale Variable `Monate`, in welcher die 12 ausgeschriebenen Monatsnamen in korrekter Levelreihenfolge enthalten sind.

b) Erstellen Sie die ordinale Variable `Schulnoten`, in welcher die 6 ausgeschriebenen Schulnoten  in korrekter Levelreihenfolge  enthalten sind.

c) Erzeugen Sie aus den folgenden Daten einen ordinalen Faktor mit korrekter Levelreihenfolge.

> vielleicht, glaube nicht, nein, glaube nicht, ja, glaube schon, vielleicht, nein, glaube nicht, ja, ja, glaube schon, ja, ja, nein, glaube nicht, glaube schon, vielleicht, vielleicht, glaube nicht, vielleicht, glaube nicht, nein, glaube nicht, ja, glaube schon, vielleicht, nein, glaube nicht, ja, ja, glaube schon, ja, ja, nein, glaube nicht, glaube schon, vielleicht, vielleicht, glaube nicht

d) Ändern Sie die Levelnamen in `-2`, `-1`, `0`, `1`, `2`.
:::

::: {.callout-tip appearance="simple"}
Lösung siehe @sec-LAA05
:::



### Aufgabe [-@sec-AAA06] Hogwarts-Kurse {#sec-AAA06}

::: {.callout-note appearance="simple"}
In Hogwarts wurden jeweils die vier beliebtesten Kurse der Schüler pro Haus ermittelt.

| Haus       | Kurs                                |
|------------|-------------------------------------|
| Gryffindor | Verteidigung gegen die dunklen Künste |
| Gryffindor | Zauberkunst                         |
| Gryffindor | Verwandlung                         |
| Gryffindor | Besenflugunterricht                 |
| Hufflepuff | Kräuterkunde                        |
| Hufflepuff | Pflege magischer Geschöpfe          |
| Hufflepuff | Geschichte der Zauberei             |
| Hufflepuff | Alte Runen                          |
| Ravenclaw  | Arithmantik                         |
| Ravenclaw  | Astronomie                          |
| Ravenclaw  | Verwandlung                         |
| Ravenclaw  | Verteidigung gegen die dunklen Künste |
| Slytherin  | Zaubertränke                        |
| Slytherin  | Zauberkunst                         |
| Slytherin  | Dunkle Künste                       |
| Slytherin  | Legilimentik                        |


a) Erstellen Sie das Datenframe `Kurse`, in welchem die Daten aus den Tabellenspalten `Haus` und `Kurs` enthalten sind.
b) Wieviele Kurse haben es in die Auswahlliste geschafft?
c) Erstellen Sie für jedes Haus ein eigenes Datenframe
d) Wandeln Sie in jedem Haus-Datenframe die Variablen in Faktoren um.
e) Fügen Sie die Haus-Datenframes zu einem einzigen Datenframe `Hogwarts` zusammen, in der Reihenfolge Ravenclaw, Gryffindor, Syltherin und Hufflepuff. Ändern Sie anschließend den Kurs "*Geschichte der Zauberei*" in "*Geisterkunde*" um. 
f) Sortieren Sie den Datensatz, so dass die Kurse in alphabetischer Reihenfolge angezeigt werden.
g) Speichern Sie den so sortierten Datensatz in das Objekt `sorted`, und reparieren Sie die Zeilennummerierung von `sorted`.
:::

::: {.callout-tip appearance="simple"}
Lösung siehe @sec-LAA06
:::



\newpage


### Aufgabe [-@sec-AAA07] Datentabelle {#sec-AAA07}

::: {.callout-note appearance="simple"}
Von 6 Probanden wurde der Cholesterolspiegel in mg/dl gemessen.

| Name                | Geschlecht | Gewicht | Größe | Cholesterol |
|---------------------|:------:|:------:|:------:|:------:|
| Anna Tomie          | W      | 85     | 179    | 182         |
| Bud Zillus          | M      | 115    | 173    | 232         |
| Dieter Mietenplage  | M      | 79     | 181    | 191         |
| Hella Scheinwerfer  | W      | 60     | 170    | 200         |
| Inge Danken         | W      | 57     | 158    | 148         |
| Jason Zufall        | M      | 96     | 174    | 249         |


a) Übertragen Sie die Daten in das Datenframe `chol`.
b) Erstellen Sie eine neue Variable `Alter`, die zwischen `Name` und `Geschlecht` liegt und folgende Daten beinhaltet:

| Name                | Alter |
|---------------------|:---:|
| Anna Tomie          | 18 |
| Bud Zillus          | 32 |
| Dieter Mietenplage  | 24 |
| Hella Scheinwerfer  | 35 |
| Inge Danken         | 46 |
| Jason Zufall        | 68 |

c) Fügen Sie einen weiteren Fall mit folgenden Daten dem Datenframe hinzu

| Name  | Alter | Geschlecht | Gewicht | Größe | Cholesterol |
|-------|:---:|:---:|:---:|:---:|:---:|
| Mitch Mackes | 44 | M | 92 | 178 | 220 |

d) Erzeugen Sie eine neue Variable `BMI` ($\text{BMI}=\frac{kg}{m^2}$).
e) Fügen Sie die Variable `Adipositas` hinzu, in welcher Sie die `BMI`-Werte wie folgt klassieren:
    - weniger als 18,5 $\rightarrow\ $ Untergewicht
    - zwischen 18,5 und 24.5 $\rightarrow\ $ Normalgewicht
    - zwischen 24,5 und 30 $\rightarrow\ $ Übergewicht
    - größer als 30 $\rightarrow\ $ Adipositas
f) Filtern Sie Ihren Datensatz, so dass Sie einen neuen Datensatz `male` erhalten, welcher nur die Daten der Männer beinhaltet.
:::

::: {.callout-tip appearance="simple"}
Lösung siehe @sec-LAA07
:::





### Aufgabe [-@sec-AAA08] Zusatzpaket {#sec-AAA08}

::: {.callout-note appearance="simple"}
Das Zusatzpaket `jgsbook` enthält Funktionen und Datensätze aus dem freien Buch von @grSchlR.

a) Installieren Sie das Zusatzpaket `jgsbook` mit allen Abhängigkeiten.
b) Welche Datensätze sind in dem Paket enthalten?
c) Speichern Sie den Datensatz `pf8` aus dem `jgsbook` in das Objekt `df`. Welche Variablen sind im Datensatz enthalten?
d) Rufen Sie Dokumentation für das `jgsbook`-Paket auf.
e) Wenden Sie die Funktion `freqTable()` aus dem Paket `jgsbook` auf die Variable `df$Kinder` an, **ohne** das Paket vorher per `library()` zu aktivieren.
:::

::: {.callout-tip appearance="simple"}
Lösung siehe @sec-LAA08
:::



### Aufgabe [-@sec-AAA09] Daten laden {#sec-AAA09}

::: {.callout-note appearance="simple"}
Laden Sie die folgenden Datensätz jeweils in ein R-Objekt und passen Sie die Datenklassen der Variablen entsprechend des Skalenniveaus an.

a) <https://www.produnis.de/R/data/Datentabelle.txt>
b) <https://www.produnis.de/R/data/anwesenheitnoten.csv>
c) <https://www.produnis.de/R/data/alteDaten-kurz.sav> 
d) <https://www.produnis.de/R/data/Testdatumdaten.xlsx> 
:::

::: {.callout-tip appearance="simple"}
Lösung siehe @sec-LAA09
:::




























\newpage

## Deskriptive Statistik {#sec-AufgabenAnfangB}

In diesem Abschnitt üben Sie typische Funktionen und Arbeitsfolgen zur deskriptiven Auswertung der Daten.


### Aufgabe [-@sec-AAB01] Serumcholesterin {#sec-AAB01}

::: {.callout-note appearance="simple"}

Ein Internist misst bei 20 seiner Patienten folgende Serumcholesterinspiegel in mmol/l

```
4,5  4,9  7,3  5,2  5,8  6,2  5,0  5,6  6,4  7,6
5,4  4,4  6,6  5,3  5,7  4,7  8,2  6,7  4,8  5,9

```

a) Überführen Sie die Daten in ein Datenframe mit der Variable `chol`.
b) Klassieren Sie die Serumcholesterinwerte nach folgendem Schema: 
   - 4,0 bis 4,9; 
   - 5,0 bis 5,9; 
   - …..mmol/l
c) Erstellen Sie eine ausreichend beschriftete Häufigkeitstabelle mit nicht kumulierten und kumulierten absoluten und relativen Häufigkeiten für die Häufigkeiten in den zuvor erstellten Serumcholesterinklassen.
d) Bestimmen Sie bitte folgende Kenngrößen:
   - Median arithmetisches Mittel Spannweite
   - Varianz und Standardabweichung
   - Minimum  10. Perzentil  1. Quartil  3. Quartil  90. Perzentil  Maximum
   - Interquartilsabstand
e) Zeichnen Sie anhand der unter d) bestimmten Kenngrößen einen Boxplot
f) Stellen Sie die in a) aufgelisteten absoluten nicht kumulierten Häufigkeiten als Histogramm dar.
g) Welche Form hat die Verteilung?
:::

::: {.callout-tip appearance="simple"}
Lösung siehe @sec-LAB01
:::




### Aufgabe [-@sec-AAB02] Gewichtsreduktion {#sec-AAB02}

::: {.callout-note appearance="simple"}
Zu einer Gruppe von 20 Teilnehmern an einem Kurs zur Gewichtsreduktion liegen Ihnen die Angaben zu Alter [Jahren] und Geschlecht [1: männlich; 2: weiblich] vor.
```
Alter:       4  7  8  9  11 12 13 14 15 16 16 20 20 22 25 26 26 28 29 34
Geschlecht:  1  2  2  2   1 1   2  2  2  1  1  2  2  2  1  0  2  1  2  0
```

a) Übertragen Sie die Daten in ein R-Datenframe.
b) Geben Sie der Variable "`Geschlecht`" die Werte 
```
                 'männlich' (statt 1)
                 'weiblich' (statt 2)
                 'divers'   (statt 0)
```
c) Klassieren Sie das Alter der Probanden nach folgendem Schema:
```
                 0-5     6-10   
                11-15   16-20   
                21-25   26-30   
                31-35
```
d) Bestimmen Sie folgende Stichprobenkennzahlen für das Merkmal '`Alter`':
   - Minimum 5. Perzentil   1. Quartil   Median   Mittelwert
   - 3. Quartil   95. Perzentil   Maximum   Interquartilsabstand
e) Zeichnen Sie ein Histogramm und ein Balkendiagramm für die nicht kumulierten absoluten Häufigkeiten zur Anzahl der Studienteilnehmer in den zuvor gebildeten Altersklassen.
f) Erstellen Sie eine Kontingenztafel zur gleichzeitigen Darstellung der beiden Merkmale `Altersgruppe` und `Geschlecht`.
g) Stellen Sie die Häufigkeitsverteilung der beiden Merkmale `Altersgruppe` und `Geschlecht` in einer geeigneten Graphik dar.

:::

::: {.callout-tip appearance="simple"}
Lösung siehe @sec-LAB02
:::



